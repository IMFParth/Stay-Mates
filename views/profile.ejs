<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" data-bs-theme ="dark">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Profile</title>
    <style>
        body {
    background-color: #f4f6f9; /* Light grey background for a softer look */
    color: #333;
    font-family:YAFdJiLU_Ko-0;
}

.navbar {
    background: linear-gradient(90deg, #343a40 0%, #1f2d3d 100%); /* Gradient from dark grey to dark blue */
    padding: 1rem;
    border-bottom: 2px solid #007bff; /* Blue accent under the navbar */
}

.navbar-brand {
    color: #ffffff;
    font-weight: bold;
    font-size: 1.25rem;
}

.navbar-nav .nav-link {
    color: #ffffff;
    font-weight: 500;
}

.navbar-nav .nav-link:hover {
    color: #d1d5db; /* Light grey on hover */
}

.container {
    background-color: #ffffff;
    padding: 2rem; /* More padding for a spacious feel */
    border-radius: 12px; /* Rounded corners for a modern look */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Subtle shadow for depth */
    margin-top: 2rem; /* Space from the top */
}

.profile-header {
    display: flex;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 2px solid #e9ecef;
}

.profile-header img {
    border-radius: 50%;
    border: 4px solid #dee2e6;
    width: 150px;
    height: 150px;
}

.profile-header h2 {
    margin-left: 1.5rem;
    font-size: 1.5rem;
    color: #343a40;
}

.card {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 1.5rem;
}

.card-body {
    background-color: #ffffff;
}

.btn-primary {
    background-color: #007bff;
    border-color: #007bff;
    border-radius: 8px;
}

.btn-primary:hover {
    background-color: #0056b3;
    border-color: #004085;
}

.btn-outline-primary {
    color: #007bff;
    border-color: #007bff;
    border-radius: 8px;
}

.btn-outline-primary:hover {
    color: #0056b3;
    border-color: #004085;
}

.modal-content {
    border-radius: 12px;
}

.modal-header {
    border-bottom: 1px solid #e9ecef;
}

.form-control, .form-select {
    border-radius: 8px;
    border-color: #ced4da;
}

.list-group-item {
    border: 0;
    padding: 12px 15px;
    background-color: #f8f9fa;
}

.list-group-item:hover {
    background-color: #e2e6ea; /* Slightly darker on hover */
}



/* Profile Header */
.profile-header {
    text-align: center;
    margin-bottom: 20px;
}

#profilePicture {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 5px solid #ddd;
    transition: transform 0.3s ease-in-out, border-color 0.3s ease-in-out;
}

#profilePicture:hover {
    transform: scale(1.1);
    border-color: #007bff;
}

/* Fade In Effect */
.fade-in {
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

.fade-in.show {
    opacity: 1;
}

/* Slide-In Animation */
.slide-in {
    transform: translateX(-100%);
    opacity: 0;
    transition: transform 0.5s ease-out, opacity 0.5s ease-out;
}

.slide-in.show {
    transform: translateX(0);
    opacity: 1;
}

/* Button Click Animation */
.btn:active {
    transform: scale(0.98);
}

/* Modal Fade In/Out Effect */
.modal.fade .modal-dialog {
    transition: transform 0.3s ease, opacity 0.3s ease;
    transform: translateY(-25%);
    opacity: 0;
}

.modal.show .modal-dialog {
    transform: translateY(0);
    opacity: 1;
}



    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary mb-3">
        <div class="container-fluid">
            <a class="navbar-brand" href="./index.html">StayMates</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./explore.html">Explore</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./host.html">Hosting </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Use Case 3</a>
                    </li>
                </ul>
                <!-- Right aligned dropdown menu -->
                <ul class="navbar-nav mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="./profie.html" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="https://github.com/mdo.png" id="navimage" width="32" height="32" class="rounded-circle me-2">
                            <strong>Me</strong>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="./inbox.html">Inbox</a></li>
                            <li><a class="dropdown-item" href="./friendlist.html">Friend list </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Sign out</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <!-- Main content -->
            <div class="col-md-9 mt-3">
                <!-- Your main content goes here -->
                <div class="row gutters-sm">
                    <div class="col-md-4 mb-3">
                        <div class="card col-md-12 col-lg-12">
                            <div class="card-body">
                                <div class="d-flex flex-column align-items-center text-center">
                                    <label for="profilePicInput" class="form-label">
                                        <img id="profilePicture" src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Profile Picture" class="rounded-circle" width="150">
                                    </label>
                                    <input type="file" id="profilePicInput" accept="image/*" style="display:none;" >
                                    <button id="uploadBtn">Choose Image</button><br><br>
                                    
                                    
                                    <div class="mt-3">
                                        <div class="row">
                                            <div class="col-sm-9">
                                                <h6 class="mb-0">Title</h6>
                                            </div>
                                            <div class="col-sm-9 text-secondary" id="title"> - </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-9">
                                                <h6 class="mb-0">Location</h6>
                                            </div>
                                            <div class="col-sm-9 text-secondary" id="location"> - </div>
                                        </div>
                                        <hr>
                                        
                    
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="card mt-3">
                            <ul class="list-group list-group-flush">
                                <!-- Additional user details -->
                                
                                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter mr-2 icon-inline text-info"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>Twitter</h6>
                                    <span class="text-secondary">@bootdey</span>
                                  </li>
                                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram mr-2 icon-inline text-danger"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>Instagram</h6>
                                    <span class="text-secondary">bootdey</span>
                                  </li>
                                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook mr-2 icon-inline text-primary"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>Facebook</h6>
                                    <span class="text-secondary">bootdey</span>
                                  </li>
                            </ul>
                        </div>

                    </div>
                    <div class="col-md-8 edit" id="edit">
                        <div class="card mb-3">
                            <div class="card-body">
                                <!-- User Info -->
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Full Name</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="fullName">  </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Email</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="email"> </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Phone</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="phone"></div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Age</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="Age"> </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">University</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="University">  </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Address</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="Address"> </div>
                                </div>
                                <hr>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Smoker</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="Smoker"> - </div>
                                </div>
                                <hr>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">food </h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" id="food"> - </div>
                                </div>
                                <hr>

                            

                                <div class="row">
                                    <div class="col-sm-12">
                                        <button class="btn btn-info editButton" data-bs-toggle="modal" data-bs-target="#editProfileModal">Edit</button>
                                    </div>   <!-- data-bs-toggle ---  The collapse JavaScript plugin is used to show and hide content. Buttons or anchors are used as triggers that are mapped to specific elements you toggle. Collapsing an element will animate the height from its current value to 0. Given how CSS handles animations, you cannot use padding on a .collapse element. Instead, use the class as an independent wrapping element. -->>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">


                    <form id="editProfileForm" method="POST" action="/submit-profile">
                        <div class="mb-3">
                            <label for="newName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="newName" name="name">
                        </div>
                        <div class="mb-3">
                            <label for="newEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="newEmail" name="email">
                        </div>
                        <div class="mb-3">
                            <label for="newPhone" class="form-label">Phone</label>
                            <input type="tel" class="form-control" id="newPhone" name="phone">
                        </div>
                        <div class="mb-3">
                            <label for="newAge" class="form-label">Age</label>
                            <input type="number" class="form-control" id="newAge" name="age">
                        </div>
                        <div class="mb-3">
                            <label for="newUniversity" class="form-label">University</label>
                            <input type="text" class="form-control" id="newUniversity" name="university">
                        </div>
                        <div class="mb-3">
                            <label for="newAddress" class="form-label">Address</label>
                            <input type="text" class="form-control" id="newAddress" name="address">
                        </div>
                        <div class="mb-3">
                            <label for="newSmoker" class="form-label">Smoker</label>
                            <select class="form-select" id="newSmoker" name="smoker">
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="newfood" class="form-label">Food Preference</label><br>
                            <input type="radio" name="food" value="Veg" id="newfoodVeg"> Veg<br>
                            <input type="radio" name="food" value="Non-Veg" id="newfoodNonVeg"> Non-Veg
                        </div>
                        <button type="submit" class="btn btn-primary">Save changes</button>
                    </form>
                    
                </div>
            </div>
        </div>
    </div>

    <script>
        document.querySelector(".editButton").addEventListener("click", function() {
            // Populate the modal fields with current values
            document.getElementById("newName").value = document.getElementById("fullName").textContent;
            document.getElementById("newEmail").value = document.getElementById("email").textContent;
            document.getElementById("newPhone").value = document.getElementById("phone").textContent;
            document.getElementById("newAge").value = document.getElementById("Age").textContent;
            document.getElementById("newUniversity").value = document.getElementById("University").textContent;
            document.getElementById("newAddress").value = document.getElementById("Address").textContent;
            let smoker = document.getElementById("Smoker").textContent;
            document.getElementById("newSmoker").value = smoker;

            // Set the food preference radio button
            let food = document.getElementById("food").textContent;
            if (food === "Veg") {
                document.getElementById("newfoodVeg").checked = true;
            } else if (food === "Non-Veg") {
                document.getElementById("newfoodNonVeg").checked = true;
            }

            
        });

        document.getElementById("editProfileForm").addEventListener("submit", function(event) {
            event.preventDefault();

            // Get new values from the form
            let newName = document.getElementById("newName").value;
            let newEmail = document.getElementById("newEmail").value;
            let newPhone = document.getElementById("newPhone").value;
            let newAge = document.getElementById("newAge").value;
            let newUniversity = document.getElementById("newUniversity").value;
            let newAddress = document.getElementById("newAddress").value;
            let newSmoker = document.getElementById("newSmoker").value;
            let newfood = document.querySelector('input[name="food"]:checked').value;




            // Update the values on the page
            if (newName !== "") {
                document.getElementById("fullName").textContent = newName;
                document.getElementById("title").textContent = newName;

                
            }
            if (newEmail !== "") {
                document.getElementById("email").textContent = newEmail;
            }
            if (newPhone !== "") {
                document.getElementById("phone").textContent = newPhone;
            }
            if (newAge !== "") {
                document.getElementById("Age").textContent = newAge;
                


            }
            if (newUniversity !== "") {
                document.getElementById("University").textContent = newUniversity;
            }
            if (newAddress !== "") {
                document.getElementById("Address").textContent = newAddress;
                document.getElementById("location").textContent = newAddress;
            }
            if (newSmoker !== "") {
                document.getElementById("Smoker").textContent = newSmoker;
            }
            if (newfood !== "") {
                document.getElementById("food").textContent = newfood;
            }

            // Hide the modal
            let modal = bootstrap.Modal.getInstance(document.getElementById('editProfileModal'));
            modal.hide();
        });

        document.getElementById('uploadBtn').addEventListener('click', () => {
            document.getElementById('profilePicInput').click();
        });

        let selectedFile;

        document.getElementById('profilePicInput').addEventListener('change', function(event) {
            selectedFile = event.target.files[0];

            // Display the selected image before uploading
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('profilePicture').src = e.target.result;
                document.getElementById('navimage').src = e.target.result;

                
            };
            reader.readAsDataURL(selectedFile);
        });

        document.getElementById('submitBtn').addEventListener('click', function() {
            if (!selectedFile) {
                alert('Please select a file first.');
                return;
            }

            // Upload the selected file to the server
            const formData = new FormData();
            formData.append('profilePic', selectedFile);

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                // Update the profile picture with the uploaded image
                document.getElementById('profilePicture').src = data.filePath;
                document.getElementById('navimage').src = data.filePath;

            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>

